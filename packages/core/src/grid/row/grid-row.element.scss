// Copyright (c) 2016-2021 VMware, Inc. All Rights Reserved.
// This software is released under MIT license.
// The full license information can be found in LICENSE in the root directory of this project.

@import './../../styles/tokens/generated/index';

:host {
  --border-top: inset 0 #{$cds-alias-object-border-width-200} 0 calc(#{$cds-global-space-1} * -1) #{$cds-alias-object-border-color};
  --border-bottom: 0 #{$cds-alias-object-border-width-200} #{$cds-alias-object-border-width-100}
    calc(#{$cds-global-space-1} * -1) #{$cds-alias-object-border-color};
  --background: #{$cds-alias-object-container-background};
  --min-height: var(--row-height, #{$cds-alias-object-interaction-touch-target});

  /* stylelint-disable */
  content-visibility: var(--row-content-visibility, auto);
  contain-intrinsic-size: #{$cds-global-space-1} var(--min-height);
  /* stylelint-enable */
}

::slotted([role='rowheader']:first-child) {
  --background: #{$cds-alias-object-container-background-tint};
  --cell-border-width: #{$cds-global-space-1};
}

:host([position='fixed']),
:host([position='sticky']) {
  --row-content-visibility: visible;
  position: sticky;
  z-index: 99;
  top: calc(var(--min-height) + #{$cds-global-space-1});
  margin-top: calc(#{$cds-global-space-1} * -1);
}

:host([position='fixed']) [part='row'],
:host([position='sticky']) [part='row'] {
  --background: #{$cds-alias-object-container-background-tint};
  box-shadow: var(--border-bottom);
}

:host([position='fixed']) ::slotted(cds-grid-cell) {
  --border-top: var(--border-bottom);
}

[part='row'] {
  display: grid;
  grid-template-columns: var(--ch-grid);
  box-shadow: var(--border-top);
  background: var(--background);
  min-height: var(--min-height);
}

:host([selected]),
[part='row']:hover,
[part='row']:hover ::slotted(cds-grid-cell) {
  --background: #{$cds-alias-object-interaction-background-hover};
}

// disable hover when row detail is active
:host([_detail-row]) [part='row'],
:host([_detail-row]) ::slotted(cds-grid-cell) {
  --background: #{$cds-alias-object-container-background} !important;
}

:host([draggable='true']) {
  -webkit-user-drag: element;
  user-select: none;
}

:host([cds-draggable*='target']) {
  --border-top: inset 0 #{$cds-alias-object-border-width-300} 0 calc(#{$cds-global-space-1} * -1) #{$cds-alias-object-interaction-background-highlight};
}
